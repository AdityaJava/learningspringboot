Async Annotation

1. Explain what is thread pool -> Pre created threads
   -> Collection of Threads aka workers which are available to perform the submitted tasks
   -> Once task is done threads go back to pool
   -> Means threads can be reused.

2. Min=2 max=4 and queu size=3

3. async annotation:
   Definition: Used to mark method that should run asynchronously. Runs in new thread without blocking the main thread
4. EnableAsync annotation:
   -> What is the use of it?

5. How does this Async annotation creates a new thread?
   -> Many places we will find which says spring boot used by default SimpleAsyncTaskExecutor which creates new thread every time
   -> SimpleAsyncTaskExecutor always uses new thread
   -> Above is not complete answer then which Executor does spring boot uses?
   -> Right answer is Spring boot first looks for defaultExecutor, if no defaultExecutor (ThreadPoolTaskExecutor) found then SimpleAsyncTaskExecutor is used.
   -> defaultExecutor reuses threads
   -> ThreadPoolTaskExecutor is nothing but a spring boot object, which is just a wrapper around Java ThreadPoolExecutor
   -> This defaultExecutor (ThreadPoolTaskExecutor) is not recommended to use because
      -> Underutilization of threads: With fixed min pool size and unbounded queue(Size is too big), its possible that most of tasks will sit in queue rather than creating new thread
      -> High Latency: Since queue size is too big, taska will queu up till queue is not fill, high latency might occur during high load
      -> Thread Exhaustion: Let's say if queu also gets filled up, then executor will try to create new threads till max pools size is not reached, which is integer.Max_value. This can lead to thread exhaushtion
                             . And server might go down because of overhead of managing so many threads.
      -> High Memory Usage: Each Threads need some memory, when we are craeting these many threads, which consume large amount of memory too, which might lead to performance degradation too.
   -> We should always create our own custom ThreadPoolTaskExecutor. And then use like @Async("myThreadPoolTaskExecutor") this is in case of many Executors are present. Give code for this also ThreadName prefix
   -> New  threads are only created when queue is full and they are created till Maxpool size
   -> What if we create ThreadPoolExecutor (Java one)? Generate code for this. Will spring boot pick up this? Answer is No. Spring boot will not create instance of ThreadPoolTaskExecutor and in this case the default executor is null and this case spring boot uses
      SimpleAsyncTaskExecutor.
   -> It is also not recommended at all to use SimpleAsyncTaskExecutor why?
      -> It just creates new thread every time. so it may lead to
        -> Thread exhaushtion: Just blindly creating new thread with every async request might lead up to thread exhaustion
        -> Thread creation overhead: Since threads are not reused, so thread management (Creation, destroying) is an additional overhead.
        -> High memory usage: Each threads need some memory, when we are creating these many threads, which may consume large amount of memory too, which might lead to
           performance degradation too.
   -> I don't want all consufion. I always want to set my executor as default one, even if anyone use @Async my exxecutor only should be picked.
      give the code using implements AsyncConfigurer full working
