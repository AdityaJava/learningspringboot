# Response Handling in Spring Boot

In Spring Boot, an HTTP response sent back to the client consists of three main parts: **Status Code**, **Headers**, and **Body**. To manage these, Spring provides the `ResponseEntity<T>` class.

---

## 1. Core Components of a Response

### **A. Status Code**
Represents the result of the HTTP request. It helps the client understand **what happened**.
* **200 OK**: Request successful.
* **201 CREATED**: Resource created successfully.
* **400 BAD_REQUEST**: Validation or client-side error.
* **404 NOT_FOUND**: Resource does not exist.
* **500 INTERNAL_SERVER_ERROR**: Server-side failure.

### **B. Headers (Optional)**
Headers contain **additional metadata** about the response.
* **Common uses:** Authentication tokens, Request/Correlation IDs, Caching policies, and Content-Type.

### **C. Body**
The actual data payload returned to the client. This can be:
* String / JSON / XML
* DTO (Data Transfer Object) / Entity
* List / Map
* Empty (No body)



---

## 2. Using ResponseEntity<T>

`ResponseEntity<T>` represents the entire HTTP response. It allows full programmatic control over the Status, Headers, and Body.

### **Implementation: Status + Headers + Body**
```java
@GetMapping("/response-example")
public ResponseEntity<String> getResponse() {
    HttpHeaders headers = new HttpHeaders();
    headers.add("custom-header", "Value123");
    headers.add("request-id", "abc-101");

    return ResponseEntity
            .status(HttpStatus.OK)
            .headers(headers)
            .body("My Response body");
}

ResponseEntity with NO BODY (build())
Use the build() method when you only want to return metadata/status without a payload (common in DELETE or PATCH operations).


@DeleteMapping("/users/{id}")
public ResponseEntity<Void> deleteUser(@PathVariable Long id) {
    // delete logic here
    return ResponseEntity
            .status(HttpStatus.NO_CONTENT) // 204 No Content
            .build();
}

3. Returning Objects Directly
If a controller method returns an object directly, Spring Boot automatically wraps it inside a ResponseEntity<T> with a default status of 200 OK.

Java

@GetMapping("/user")
public User getUser() {
    return new User(1L, "Aditya");
}
Internal Behavior:

Java

return ResponseEntity.status(HttpStatus.OK).body(user);

4. Summary & Best PracticesFeatureUse ResponseEntity<T>Use Direct ReturnControlFull control over
Status & HeadersLimited to default behaviorBest ForCustom statuses, Errors,
DeletionsSimple GET success responsesReadabilityExplicit and descriptiveConcise and clean

Key Takeaways
Use ResponseEntity when you need to deviate from the default 200 OK or need custom headers.

Use .build() when no response body is required (e.g., 204 NO_CONTENT).

Direct returns are perfectly fine for simple data fetching where a 200 OK is always expected.